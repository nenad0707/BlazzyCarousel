@page "/"
@using BlazzyMotion.Demo.Model
@using BlazzyMotion.Carousel.Models
@using BlazzyMotion.Carousel.Components
@inject IJSRuntime JS

<PageTitle>BlazzyMotion.Carousel - Modern 3D Carousel for Blazor</PageTitle>

<!-- Hero Section -->
<section class="hero-section" style="@heroBackgroundStyle">
    <div class="hero-content">
        <h1 class="hero-title">BzCarousel </h1>
        <p class="hero-subtitle">Modern 3D Carousel for Blazor with Glass Morphism Design</p>
        <div class="hero-features">
            <span class="feature-badge">
                <i class="bi bi-magic"></i>
                <span>Source Generator</span>
            </span>
            <span class="feature-badge">
                <i class="bi bi-palette"></i>
                <span>4 Premium Themes</span>
            </span>
            <span class="feature-badge">
                <i class="bi bi-lightning-charge-fill"></i>
                <span>Zero Config</span>
            </span>
        </div>
        <button class="hero-cta" @onclick="ScrollToDemo">
            <span>View Demo</span>
            <i class="bi bi-arrow-down"></i>
        </button>
    </div>
</section>

<!-- Demo Section -->
<section class="demo-section" style="@demoBackgroundStyle">
    <div class="demo-content">

        <!-- Theme Switcher -->
        <div class="theme-switcher">
            <span class="theme-label">Choose Theme:</span>
            <div class="theme-buttons">
                <button class="theme-btn @(currentTheme == BzTheme.Glass ? "active" : "")"
                    @onclick="() => ChangeTheme(BzTheme.Glass)">
                    Glass
                </button>
                <button class="theme-btn @(currentTheme == BzTheme.Dark ? "active" : "")"
                    @onclick="() => ChangeTheme(BzTheme.Dark)">
                    Dark
                </button>
                <button class="theme-btn @(currentTheme == BzTheme.Light ? "active" : "")"
                    @onclick="() => ChangeTheme(BzTheme.Light)">
                    Light
                </button>
                <button class="theme-btn @(currentTheme == BzTheme.Minimal ? "active" : "")"
                    @onclick="() => ChangeTheme(BzTheme.Minimal)">
                    Minimal
                </button>
            </div>
        </div>

        <!-- Carousel Demo -->
        <div class="carousel-wrapper">
            <BzCarousel TItem="Movie" Items="movies" Theme="@currentTheme" OnItemSelected="@OnItemSelected" />
        </div>

        <!-- Selected Item Display -->
        @if (selectedMovie != null)
        {
            <div class="selected-item">
                <p>You selected: <strong>@selectedMovie.Title</strong></p>
            </div>
        }

    </div>
</section>

<!-- Code Section -->
<section class="code-section">
    <div class="code-content">
        <h2 class="code-title">Quick Start</h2>
        <p class="code-description">Get started in less than 60 seconds!</p>

        <div class="code-steps">

            <!-- Step 1: Install -->
            <div class="code-step">
                <div class="step-header">
                    <span class="step-number">1</span>
                    <h3>Install Package</h3>
                </div>
                <div class="code-block">
                    <code>dotnet add package BlazzyMotion.Carousel</code>
                </div>
            </div>

            <!-- Step 2: Model -->
            <div class="code-step">
                <div class="step-header">
                    <span class="step-number">2</span>
                    <h3>Define Your Model</h3>
                </div>
                <div class="code-block">
                    <pre><code>public class Movie
{
    [BzImage]
    public string Poster { get; set; }

    public string Title { get; set; }
}</code></pre>
                </div>
            </div>

            <!-- Step 3: Use -->
            <div class="code-step">
                <div class="step-header">
                    <span class="step-number">3</span>
                    <h3>Use Component</h3>
                </div>
                <div class="code-block">
                    <code>&lt;BzCarousel Items="@@movies"/&gt;</code>
                </div>
                <div class="code-hint">
                    <i class="bi bi-info-circle"></i>
                    <span>Click carousel items to see selection in action!</span>
                </div>
            </div>

        </div>

        <div class="code-footer">
            <i class="bi bi-stars"></i>
            <span>That's it! No manual template needed!</span>
        </div>
    </div>
</section>

@code {
    private BzTheme currentTheme = BzTheme.Glass;
    private Movie? selectedMovie;

    private List<Movie> movies = new()
    {
        new() { Title = "Despicable Me 4", ImageUrl = "images/despicableme.jpg" },
        new() { Title = "Joker", ImageUrl = "images/joker.jpg" },
        new() { Title = "The Platform 2", ImageUrl = "images/the-platform.jpg" },
        new() { Title = "The Substance", ImageUrl = "images/thesubstance.jpg" },
        new() { Title = "Venom", ImageUrl = "images/venom.jpg" },
        new() { Title = "Survive", ImageUrl = "images/survive.jpg" },
        new() { Title = "The Wild Robot", ImageUrl = "images/wild-robot.jpg" },
        new() { Title = "Deadpool & Wolverine", ImageUrl = "images/wolwerine.jpg" }
    };

    private string heroBackgroundStyle => currentTheme switch
    {
        BzTheme.Glass => "background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);",
        BzTheme.Dark => "background: linear-gradient(135deg, #1a1a1a, #0d0d0d);",
        BzTheme.Light => "background: linear-gradient(135deg, #ffffff, #f5f5f5, #e8e8e8);",
        BzTheme.Minimal => "background: linear-gradient(135deg, #2a2a2a, #1f1f1f);",
        _ => "background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);"
    };

    private string demoBackgroundStyle => currentTheme switch
    {
        BzTheme.Glass => "background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);",
        BzTheme.Dark => "background: linear-gradient(135deg, #1a1a1a, #0d0d0d);",
        BzTheme.Light => "background: linear-gradient(135deg, #f8f8f8, #e5e5e5);",
        BzTheme.Minimal => "background: linear-gradient(135deg, #e0e0e0, #d0d0d0);",
        _ => "background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);"
    };

    private void ChangeTheme(BzTheme newTheme)
    {
        currentTheme = newTheme;
    }

    private Task OnItemSelected(Movie selectedItem)
    {
        selectedMovie = selectedItem;
        return Task.CompletedTask;
    }

    private async Task ScrollToDemo()
    {
        await JS.InvokeVoidAsync("scrollToElement", "demo-section");
    }
}